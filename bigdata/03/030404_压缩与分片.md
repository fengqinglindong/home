压缩原因：
	
	- 减少存储空间消耗
	- 加快数据传输速度
	- 减少网络流量负载

	缺点：CPU消耗、数据处理过长

分片：

	- 如果一个文件从任何一个位置开始都可以正常读取接下来的数据，那么这个文件就是可分片的
	- 按照特定策略，将数据存储在逻辑上进行的一次划分。
	- 可以在同一节点上，也可以在不同节点上。

	优点：
		
		提高数据的并行度

		增加数据本地处理

压缩与分片的文件格式以及是否支持分片的概要表：
	
	见图。

	lzo添加索引的方式来实现分片。

文件格式：

	平面文件：

		文本文件、二进制文件

	容器文件：
	
		按照特定的组织形式来存放数据。每个数据块存在单独的区域中

	行式存储：
		
		按照行的方式一一存储，存完一行再存下一行。
	
	列式存储:

		多行划分成多个分组，以列簇的方式进行存储。提高对于列访问的性能。主要应有在与SQL相关的场景上。

	1. Sequence文件（行式存储的）

		也叫序列文件，由二进制的键值对组成的文件格式。作为MapReduce的输入输出格式得到广泛应有。三种不同的格式，对应不同的压缩级别：不压缩、值压缩、块压缩（键值）

		格式：
			- 文件头（head）：包含版本号、键值类型、是否开启块压缩、压缩类型、元数据、同步信息
			- 记录（record）
			- 同步标记（sync market）：是位于record之间的特殊字段。可以让用户在文件的任何位置再次同步到另外一个记录的编辑。方便MapReduce处理大文件的分片

	2. ORC文件（列式存储的）

		三个部分：文件头、文件内容、文件尾
			
			文件头：包含版本信息

			文件内容：记录、索引

				条带(stripe)：条带索引、数据、条带脚注

				脚注（footer）：文件内容布局的结构，类型的模式信息，总行数、每一列的统计信息

				附言（postscript）：元数据段的长度、文件脚注、文件版本号、压缩格式。

				
					条带、脚注、附言进行组合才能被读取。

			文件尾：文件级别的信息

	3. Parquet文件（列式存储的）
		
		行组（RowGroup）
		列块（Column Chunk）
		页（Page）
		脚注（Footer）

		文件分成多个RowGroup，每个RowGroup分为多个Column Chunk，列快里面存储对于的列数据，列快的存储方式更加单独的Page来存储的。脚注包含了原数据的原始信息。

如何选择压缩算法：

	- 选择容器文件格式
	- 支持分片的压缩算法



